
CodeTools::AST << {
  
  Root < BasicObject {
    var body
    var file
    var variable_scope # TODO: use in Scope variable lookup
    
    bytecode: |g| {
      g.name = :__script__
      g.file = self.file.to_sym
      
      g.push_state(Scope.new)
      
      self.body.bytecode(g)
      g.ret
      
      g.pop_state
    }
  }
  
}
