
CodeTools::AST << {
  
  BlockLiteral < Node {
    node_type block_literal
    field block
    
    const is_data: true
    
    implementation_receiver: Constant.new(
      loc:      self.loc
      toplevel: true
      names:    [:Ruby, :Proc]
    )
    
    implementation: Invoke.new(
      loc:          self.loc
      receiver:     self.implementation_receiver
      name:         (:new)
      block:        self.block
    )
    
    bytecode: |g| implementation.bytecode(g)
  }
  
}
