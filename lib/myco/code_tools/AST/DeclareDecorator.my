
CodeTools::AST << {
  
  DeclareDecorator < Node {
    node_type deco
    field name, field arguments
    
    setter arguments: |x|
      x || ArrayAssembly.new(line:self.line, body:[])
    
    implementation: ArrayAssembly.new(
      line:self.line
      body:[self.name, self.arguments]
    )
    
    to_literal: implementation.to_literal
    
    bytecode: |g| pos(g); implementation.bytecode(g)
  }
  
}
