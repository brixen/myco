
CodeTools::AST << {
  
  StringLiteral < Node {
    node_type str
    field value
    
    to_literal: self.value
    
    bytecode: |g| {
      pos(g)
      
      g.push_literal(self.value)
      g.string_dup
    }
    
    # TODO: don't be redundant with data_bytecode
    data_array: [:string,
      self.value,
    ]
    
    data_bytecode: |g| {
      g.push_literal(:string)
      g.push_literal(self.value)
      g.make_array(2)
    }
  }
  
}
